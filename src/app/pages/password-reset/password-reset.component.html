

<div class="container d-flex justify-content-center align-items-center vh-100 password-reset-page">
  <div class="card shadow p-4 w-100" style="max-width: 400px;">

        <h2>Neues Passwort f√ºr {{ passwordResetData.userName || passwordResetData.email }} setzen</h2>

        <form (ngSubmit)="resetPassword()">
            <div class="mb-3">
                <label for="newPassword" class="form-label">Neues Passwort</label>
                <input type="password" [(ngModel)]="passwordResetData.newPassword" name="newPassword" class="form-control" required />
            </div>
            
            <div class="mb-3">
                <label for="confirmNewPassword" class="form-label">Neues Passwort wiederholen</label>
                <input type="password" [(ngModel)]="confirmNewPassword" name="confirmNewPassword" class="form-control" required />
            </div>

            <!-- üîπ Empfehlung f√ºr ein sicheres Passwort -->
            <small class="text-muted d-block mt-2">
                Ihr Passwort sollte mindestens 8 Zeichen lang sein. Gro√übuchstaben, Zahlen & Sonderzeichen werden empfohlen.
            </small>
    
            <!-- üîπ Live-Anzeige der Passwortst√§rke -->
            <p *ngIf="passwordResetData.newPassword && passwordResetData.newPassword.length > 0" class="mt-1" [ngClass]="{
                'text-danger': getPasswordStrength(passwordResetData.newPassword) === '‚ùå Ung√ºltig (mind. 8 Zeichen)',
                'text-warning': getPasswordStrength(passwordResetData.newPassword) === '‚ö†Ô∏è Schwach',
                'text-primary': getPasswordStrength(passwordResetData.newPassword) === 'üü° Mittel',
                'text-success': getPasswordStrength(passwordResetData.newPassword) === 'üü¢ Stark' || 
                                getPasswordStrength(passwordResetData.newPassword) === 'üü¢üí™ Sehr stark!'
            }">
                {{ getPasswordStrength(passwordResetData.newPassword) }}
            </p>
            
            <!-- ‚ùå Fehlermeldung anzeigen, falls die Passw√∂rter nicht √ºbereinstimmen -->
            <p *ngIf="passwordMismatch" class="text-danger">Die Passw√∂rter stimmen nicht √ºberein!</p>
            
            <div class="mt-4">

            <button type="submit" 
                class="btn btn-success btn-lg w-100 d-flex align-items-center justify-content-center gap-2 btn-save-password"
                [disabled]="loading">
                <i class="bi bi-key-fill"></i>
                <span *ngIf="!loading">Passwort √§ndern</span>
                <span *ngIf="loading">
                    <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
                    Wird gespeichert‚Ä¶
                </span>
            </button>        
            </div>

        </form>

        <div *ngIf="successMessage" class="alert mt-3" [ngClass]="'alert-' + alertType">
            {{ successMessage }}
        </div>
    </div>
</div>

  
